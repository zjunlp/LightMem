## 问题说明
- 这些警告来源于 Windows 上 `core.autocrlf=true` 与文本文件的行尾转换：仓库中（索引/提交）统一为 `LF`，工作目录检出为 `CRLF`；当工作区当前为 `LF` 时，Git 会提示“下次触碰将替换为 CRLF”。
- 我们的目标是：仓库中统一为 `LF`，工作区按系统（Windows 为 `CRLF`），并消除当前的警告与不一致；修复已暂存文件的行尾状态。

## 预期状态
- `.gitattributes` 生效，仓库中所有文本为 `LF`。
- Windows 开发者检出为 `CRLF`；Linux/Mac 为 `LF`。
- 索引与工作区一致，无行尾相关警告。

## 操作步骤
### 1. 确认与配置
1. 确认仓库根目录存在 `.gitattributes`：
   - 内容：`* text=auto`
2. Windows 本地 Git：
   - `git config --global core.autocrlf true`
   - `git config --global safecrlf warn`

### 2. 修复已暂存文件的行尾（仓库侧统一 LF）
1. 取消当前暂存，避免带着错误行尾进入提交：
   - `git reset`
2. 基于 `.gitattributes` 重新规范化并更新索引：
   - `git add --renormalize .`
3. 提交规范化结果：
   - `git commit -m "Normalize line endings via .gitattributes"`

### 3. 刷新工作区行尾（Windows 为 CRLF）
- 将规范化后的索引重新检出到工作区，以应用系统行尾：
  - 安全方式（不丢本地改动）：`git checkout-index -f -a`
  - 或在无未提交改动时：`git reset --hard`

### 4. 验证与消除警告
1. 仓库状态：`git status`
2. 行尾与空白检查：`git diff --check`
3. 行尾实际状态（需较新 Git）：`git ls-files --eol | more`
4. 若仍提示“LF 将被替换为 CRLF”，说明工作区仍为 LF，可执行第 3 步的刷新；若提示过多且属于预期转换，可将 `safecrlf` 暂时设置为 `false` 以免提示：
   - `git config core.safecrlf false`

### 5. 可选的精细规则
- 若项目存在必须固定工作区行尾的文件：
  - `*.sh text eol=lf`
  - `*.bat text eol=crlf`
  - `*.cmd text eol=crlf`
  - `*.ps1 text eol=crlf`

## 结果标准
- 仓库与索引中的所有文本以 `LF` 存储；
- Windows 工作区文件以 `CRLF` 展示；
- `git status` 无异常，`git diff --check` 无行尾/尾随空白问题；
- 之后不再出现该类警告，或仅在预期转换情况下被关闭（`safecrlf=false`）。